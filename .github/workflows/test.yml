name: Test project

on:
  push:
    branches:
      - '6-test-action'
  pull_request:
    branches:
      - '6-test-action'
  # schedule:
    # - cron: '0 7 * * *'
  workflow_dispatch:

env:
  LOCALGOV_DRUPAL_PROJECT_PATH: web/themes/custom/pcc

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Check out project
        uses: actions/checkout@v5

      - name: Install composer dependencies
        run: ddev composer install --no-progress
      
      - name: Set up DDEV
        uses: ddev/github-action-setup-ddev@v1


      - run: ddev

      - run: ls .ddev/commands/web

      - name: Check PHP coding standards
        run: ddev phpcs web/themes/custom/pcc --ignore=web/themes/custom/pcc/node_modules
